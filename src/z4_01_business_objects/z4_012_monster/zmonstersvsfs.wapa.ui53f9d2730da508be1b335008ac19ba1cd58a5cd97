/**                                                                                                                                                                                                                                                            
 * Strips the rails template tags from a js.erb file                                                                                                                                                                                                           
 *                                                                                                                                                                                                                                                             
 * @module plugins/railsTemplate                                                                                                                                                                                                                               
 */                                                                                                                                                                                                                                                            
exports.handlers = {                                                                                                                                                                                                                                           
    /**                                                                                                                                                                                                                                                        
     * Remove rails tags from the source input (e.g. <\UI5REPESCAPE\% foo bar %\UI5REPESCAPE\>)                                                                                                                                                                
     *                                                                                                                                                                                                                                                         
     * @param e                                                                                                                                                                                                                                                
     * @param e.filename                                                                                                                                                                                                                                       
     * @param e.source                                                                                                                                                                                                                                         
     */                                                                                                                                                                                                                                                        
    beforeParse(e) {                                                                                                                                                                                                                                           
        if (e.filename.match(/\.erb$/)) {                                                                                                                                                                                                                      
            e.source = e.source.replace(/<\UI5REPESCAPE\%.*%\UI5REPESCAPE\>/g, '');                                                                                                                                                                            
        }                                                                                                                                                                                                                                                      
    }                                                                                                                                                                                                                                                          
};                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               